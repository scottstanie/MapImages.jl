<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MapImages.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MapImages.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#Index-1">Index</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/scottstanie/MapImages.jl/blob/master/docs/src/index.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="MapImages.jl-1" href="#MapImages.jl-1">MapImages.jl</a></h1><ul><li><a href="#MapImages.jl-1">MapImages.jl</a></li><ul><li><a href="#Index-1">Index</a></li></ul></ul><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#MapImages.crop_demrsc-Tuple{Sario.DemRsc}"><code>MapImages.crop_demrsc</code></a></li><li><a href="#MapImages.find_obj-Tuple{Base.Broadcast.Broadcasted}"><code>MapImages.find_obj</code></a></li><li><a href="#MapImages.get_cache_dir"><code>MapImages.get_cache_dir</code></a></li><li><a href="#MapImages.grid-Tuple{Sario.DemRsc}"><code>MapImages.grid</code></a></li><li><a href="#MapImages.grid_extent-Tuple{Sario.DemRsc}"><code>MapImages.grid_extent</code></a></li><li><a href="#MapImages.intersection_corners-Tuple{Sario.DemRsc,Sario.DemRsc}"><code>MapImages.intersection_corners</code></a></li><li><a href="#MapImages.km_to_deg"><code>MapImages.km_to_deg</code></a></li><li><a href="#MapImages.latlon_to_dist"><code>MapImages.latlon_to_dist</code></a></li><li><a href="#MapImages.nsew-Tuple{Any}"><code>MapImages.nsew</code></a></li><li><a href="#MapImages.read_station_llas-Tuple{}"><code>MapImages.read_station_llas</code></a></li><li><a href="#MapImages.rowcol_to_latlon-Tuple{Sario.DemRsc,Any,Any}"><code>MapImages.rowcol_to_latlon</code></a></li><li><a href="#MapImages.station_lonlat-Tuple{AbstractString}"><code>MapImages.station_lonlat</code></a></li><li><a href="#MapImages.@allow_mapimage-Tuple{Any}"><code>MapImages.@allow_mapimage</code></a></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.crop_demrsc-Tuple{Sario.DemRsc}" href="#MapImages.crop_demrsc-Tuple{Sario.DemRsc}"><code>MapImages.crop_demrsc</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">crop_demrsc(demrsc::DemRsc;
            new_rows=demrsc.rows, new_cols=demrsc.cols, 
            row_start=1, col_start=1, 
            row_step=1, col_step=1)</code></pre><p>Adjusts the old demrsc of a MapImage after slicing. Takes the &#39;rows&#39; and &#39;cols&#39; from demrsc and adjusts for the smaller size with a new dict</p><p>The <code>row_start</code>/<code>col_start</code> are the indices where we have sliced. This means:</p><pre><code class="language-none">img[2:3:11, :]</code></pre><p>would have <code>row_start</code> = 2, <code>row_step</code> = 3, <code>new_rows</code> = 4</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/MapImages.jl#LL180-L197">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.find_obj-Tuple{Base.Broadcast.Broadcasted}" href="#MapImages.find_obj-Tuple{Base.Broadcast.Broadcasted}"><code>MapImages.find_obj</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>A = find_obj(As)</code> returns the first MapImage among the arguments.</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/MapImages.jl#LL82">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.get_cache_dir" href="#MapImages.get_cache_dir"><code>MapImages.get_cache_dir</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Returns the config folder for the application.  The default behavior is to return whatever is most appropriate for the operating system.</p><p>This is used to store gps timeseries data</p><p>the following folders could be returned: Mac OS X:   <span>$~/Library/Application Support/apertools$</span> Mac OS X (POSIX):   <span>$~/.apertools$</span> Unix:   <span>$~/.cache/apertools$</span> Unix (POSIX):   <span>$~/.apertools$</span></p><p>force_posix: if this is set to <code>true</code> then on any POSIX system the     folder will be stored in the home folder with a leading     dot instead of the XDG config home or darwin&#39;s     application support folder.</p><p>Base on: https://github.com/pallets/click/blob/master/click/utils.py#L368</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/gps.jl#LL20-L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.grid-Tuple{Sario.DemRsc}" href="#MapImages.grid-Tuple{Sario.DemRsc}"><code>MapImages.grid</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">grid(demrsc::DemRsc; sparse=false)</code></pre><p>Returns meshgrid-like arrays X, Y</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; demrsc = DemRsc(x_first=1.0, y_first=2.0, x_step=0.1, y_step=-0.2, file_length=6, width=5);

julia&gt; XX, YY = MapImages.grid(demrsc);

julia&gt; XX[1:3, 1:3]
3×3 Array{Float64,2}:
 1.0  1.1  1.2
 1.0  1.1  1.2
 1.0  1.1  1.2
 
julia&gt; YY[1:3, 1:3]
3×3 Array{Float64,2}:
 2.0  2.0  2.0
 1.8  1.8  1.8
 1.6  1.6  1.6

julia&gt; size(XX), size(YY)
((6, 5), (6, 5))

julia&gt; XX, YY = MapImages.grid(demrsc, sparse=true);

julia&gt; size(XX), size(YY)
((5,), (6,))</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL199-L232">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.grid_extent-Tuple{Sario.DemRsc}" href="#MapImages.grid_extent-Tuple{Sario.DemRsc}"><code>MapImages.grid_extent</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">grid_extent(demrsc::DemRsc)</code></pre><p>Get the boundaries of a grid</p><p>Returns:     tuple[float]: the boundaries of the latlon grid in order:     (lon<em>left,lon</em>right,lat<em>bottom,lat</em>top)</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL183-L191">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.intersection_corners-Tuple{Sario.DemRsc,Sario.DemRsc}" href="#MapImages.intersection_corners-Tuple{Sario.DemRsc,Sario.DemRsc}"><code>MapImages.intersection_corners</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Returns:     tuple[float]: the boundaries of the intersection box of the 2 areas in order:     (lon<em>left,lon</em>right,lat<em>bottom,lat</em>top)</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL95-L99">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.km_to_deg" href="#MapImages.km_to_deg"><code>MapImages.km_to_deg</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Find the degrees separation for distance km assuming distance along great circle arc </p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL326">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.latlon_to_dist" href="#MapImages.latlon_to_dist"><code>MapImages.latlon_to_dist</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Find the distance between two lat/lon points on Earth</p><pre><code class="language-none">latlon_to_dist(lat_lon_start, lat_lon_end, R=6378)</code></pre><p>Uses the haversine formula: https://en.wikipedia.org/wiki/Haversine_formula so it does not account for the ellopsoidal Earth shape. Will be with about 0.5-1% of the correct value.</p><p>Notes: lats and lons are in degrees, and the values used for R Earth (6373 km) are optimized for locations around 39 degrees from the equator</p><p>Reference: https://andrew.hedges.name/experiments/haversine/</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL295-L308">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.nsew-Tuple{Any}" href="#MapImages.nsew-Tuple{Any}"><code>MapImages.nsew</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>return tuple of (north, south, east, west) from demrsc data</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/geotiff.jl#LL16">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.read_station_llas-Tuple{}" href="#MapImages.read_station_llas-Tuple{}"><code>MapImages.read_station_llas</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Read in a DataFrame of gps stations with columns name, lat, lon, alt</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/gps.jl#LL58">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.rowcol_to_latlon-Tuple{Sario.DemRsc,Any,Any}" href="#MapImages.rowcol_to_latlon-Tuple{Sario.DemRsc,Any,Any}"><code>MapImages.rowcol_to_latlon</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">rowcol_to_latlon(demrsc::DemRsc, row, col)</code></pre><p>Takes the row, col of a pixel and finds its lat/lon within the grid</p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL60-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.station_lonlat-Tuple{AbstractString}" href="#MapImages.station_lonlat-Tuple{AbstractString}"><code>MapImages.station_lonlat</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Return the (lon, lat) of a <code>station_name</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/gps.jl#LL63">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MapImages.@allow_mapimage-Tuple{Any}" href="#MapImages.@allow_mapimage-Tuple{Any}"><code>MapImages.@allow_mapimage</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@allow_mapimage(funcname)</code></pre><p>macro to make <code>DemRsc</code> functions equivalently defined for <code>MapImage</code>.</p><p>The macro just passes along the <code>MapImage.demrsc</code> to the function already defined </p><p><strong>Usage</strong></p><pre><code class="language-none">nearest_row(demrsc::DemRsc, lat::AbstractFloat) = Int(round(1 + (lat - d.y_first) / d.y_step))
@allow_mapimage nearest_row</code></pre><p>This is the same as:</p><pre><code class="language-none">nearest_row(img::MapImage, lat) = nearest_row(img.demrsc, lat)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/scottstanie/MapImages.jl/blob/fd457e14fcdae3e0385a5b5a6841bb08839bf8c4/src/latlon.jl#LL3-L20">source</a></section><footer><hr/></footer></article></body></html>
